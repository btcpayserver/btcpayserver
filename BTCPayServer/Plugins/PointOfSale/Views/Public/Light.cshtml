@inject BTCPayServer.Security.ContentSecurityPolicies Csp
@model BTCPayServer.Plugins.PointOfSale.Models.ViewPointOfSaleViewModel
@{
    Layout = "/Plugins/PointOfSale/Views/Public/_Layout.cshtml";
	Csp.UnsafeEval();
}
@section PageHeadContent {
    <link href="~/pos/keypad.css" asp-append-version="true" rel="stylesheet" />
}
@section PageFootContent {
    <script>var srvModel = @Safe.Json(Model);</script>
    <script src="~/vendor/vuejs/vue.min.js" asp-append-version="true"></script>
    <script src="~/pos/common.js" asp-append-version="true"></script>
    <script src="~/pos/keypad.js" asp-append-version="true"></script>
}
<div id="PosKeypad" class="public-page-wrap">
	<partial name="_StatusMessage" />
    <partial name="_StoreHeader" model="(string.IsNullOrEmpty(Model.Title) ? Model.StoreName : Model.Title, Model.StoreBranding)" />
	@await Component.InvokeAsync("UiExtensionPoint", new { location = "pos-header", model = Model })
    @if (Context.Request.Query.ContainsKey("simple"))
    {
        <partial name="/Plugins/PointOfSale/Views/Public/MinimalLight.cshtml" model="Model" />
    }
    else
    {
        <noscript>
            <partial name="/Plugins/PointOfSale/Views/Public/MinimalLight.cshtml" model="Model" />
        </noscript>
        <partial name="/Plugins/PointOfSale/Views/Public/VueLight.cshtml" model="Model" />
    }
    <footer class="store-footer" v-pre>
        <a class="store-powered-by" href="https://btcpayserver.org" target="_blank" rel="noreferrer noopener">
            <span text-translate="true">Powered by</span> <partial name="_StoreFooterLogo" />
        </a>
    </footer>
</div>

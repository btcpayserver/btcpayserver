@model (Dictionary<string, object> Items, int Level)

<table class="table table-sm table-responsive-md removetopborder">
    @foreach (var (key, value) in Model.Items)
    {
        <tr>
            @if (value is Dictionary<string, object>subItems)
            {
                <td colspan="2">
                    @if (key == "_urls")
                    {
                        @Html.Raw($"<h{Model.Level + 3} class='mt-3'>Links</h{Model.Level + 3}>")
                        <ul>
                            @foreach (var (title, url) in subItems)
                            {
                                <li>
                                    <a href="@url" target="_blank">@title</a>
                                </li>
                            }
                        </ul>

                    }
                    else
                    {
                        @Html.Raw($"<h{Model.Level + 3} class='mt-3 mb-n3'>{key}</h{Model.Level + 3}>")
                        <partial name="PosData" model="(subItems, Model.Level + 1)"/>
                    }
                </td>
            }
            else
            {
                <th class="w-150px">@key</th>
                <td>
                    @if (value is string && ((string) value).StartsWith("http"))
                    {
                        <a href="@value" target="_blank">@value</a>
                    }
                    else
                    {
                        @value
                    }
                </td>
            }
        </tr>
    }
</table>
